### Day 1: Intro to Verilog RTL Design & Synthesis

This note walks through the complete workflow of implementing a **2:1 Multiplexer** in Verilog using **Yosys** and the **SkyWater 130 nm standard-cell library**.

**SKY130RTL D1SK1 L1 – Overview of iverilog Design & Testbench**

---

#### Simulator

* A simulator is a software utility that validates the behavior of your digital circuit by applying test inputs and observing outputs—useful for catching errors before hardware implementation.
* In this session we use the open-source **iverilog** simulator.
* The “stimulator” detects changes in the input signals.
* The simulator produces a **VCD file** (Value Change Dump) as output.
![image](https://github.com/Lakshana-2006/RISC-V-TAPEOUT-PROGRAM/blob/8e8771626d2550096ef5e9807c339d3685f5211b/week1/picture/Screenshot%20from%202025-09-24%2014-53-51.png)
---

#### Design

The design is the Verilog source code that implements the intended functionality to satisfy given specifications.

---

#### Testbench

* A testbench applies stimulus to the design to verify its functionality.
* It has **no primary inputs or outputs**—only the design module does.
  
![image](https://github.com/Lakshana-2006/RISC-V-TAPEOUT-PROGRAM/blob/d66bcfb16a598d8a5e2776e501de0a81b15f7a35/week1/picture/Screenshot%20from%202025-09-24%2014-50-56.png)
---

#### GTKWave

GTKWave is the viewer used to inspect the waveform generated by the VCD file.

---

**SKY130RTL D1SK2 L1 – Lab 1 Setup**

git clone https://github.com/kunalg123/sky130RTLDesignAndSynthesisWorkshop.git

```bash
sudo -i
sudo apt-get install git
cd /home
# for vbox users
cd vboxuser 
cd vsd
cd VLSI
git clone https://github.com/kunalg123/sky130RTLDesignAndSynthesisWorkshop.git
cd sky130RTLDesignAndSynthesisWorkshop
cd verilog_files/
ls
```

---

After cloning, run the design:

```bash
iverilog good_mux.v tb_good_mux.v
ls
# To create the VCD file
./a.out
gtkwave tb_good_mux.vcd
```

Install gvim if needed:

```bash
apt install vim-gtk3 -y
```

To edit the design:

```bash
gvim tb_good_mux.v -o good_mux.v
```

---
### waveform
![image](https://github.com/Lakshana-2006/RISC-V-TAPEOUT-PROGRAM/blob/a40b8e50aee74dc4de388594e694628d1afed3dd/week1/picture/Screenshot%20from%202025-09-24%2013-59-17.png)

### Verilog Code Analysis

`good_mux.v`:

```verilog
module good_mux (input i0, input i1, input sel, output reg y);
always @ (*)
begin
    if(sel)
        y <= i1;
    else 
        y <= i0;
end
endmodule
```

**Operation**

* Inputs: `i0`, `i1` (data) and `sel` (select line)
* Output: registered signal `y`
* Logic:

  * If `sel = 1`, then `y = i1`
  * If `sel = 0`, then `y = i0`

---

### Introduction to Yosys

* **Yosys** is an open-source synthesis engine that transforms Verilog RTL into a gate-level netlist.
* The design’s primary inputs/outputs must match between RTL and the synthesized netlist.
* The same testbench can be reused to verify the netlist.

---
![image](https://github.com/Lakshana-2006/RISC-V-TAPEOUT-PROGRAM/blob/ca8605dadf414ac77275d2c74115a82348c8079d/week1/picture/Screenshot%20from%202025-09-24%2015-59-25.png)

### What is a `.lib` File?

* A library of standard logic cells (gates) in various drive strengths and timing flavors.
* Includes fast cells for performance and slower ones for hold-time closure.

---

### Yosys Synthesis Flow

1. **Launch Yosys**

   ```bash
   yosys
   ```
2. **Read the liberty library**

   ```bash
   read_liberty -lib ../lib/sky130_fd_sc_hd__tt_025C_1v80.lib
   ```
3. **Read Verilog source**

   ```bash
   read_verilog good_mux.v
   ```
4. **Synthesize the design**

   ```bash
   synth -top good_mux
   ```
5. **Technology mapping**

   ```bash
   dfflibmap -liberty ~/vsd/VLSI/sky130RTLDesignAndSynthesisWorkshop/lib/sky130_fd_sc_hd__tt_025C_1v80.lib
   abc -liberty ~/vsd/VLSI/sky130RTLDesignAndSynthesisWorkshop/lib/sky130_fd_sc_hd__tt_025C_1v80.lib
   ```
6. **Visualize the netlist**

   ```bash
   show
   ```
7. **Write the gate-level netlist**

   ```bash
   write_verilog ~/good_mux_netlist.v
   ```
8. **Generate report**

   ```bash
   stat
   ```

---
### Output
![image](https://github.com/Lakshana-2006/RISC-V-TAPEOUT-PROGRAM/blob/615b436150303dd47b0f5c90442b2752fb1a0630/week1/picture/Screenshot%20from%202025-09-24%2016-30-58.png)
![image](https://github.com/Lakshana-2006/RISC-V-TAPEOUT-PROGRAM/blob/e8f3fda83e8a349dc5fb66a565503e728f1a388b/week1/picture/Screenshot%20from%202025-09-24%2016-31-07.png)

**Schematic dot file**
![image](https://github.com/Lakshana-2006/RISC-V-TAPEOUT-PROGRAM/blob/750daf88087147ba7fe21dfed9a4240c5bd9de84/week1/picture/Screenshot%20from%202025-09-24%2016-40-02.png)

**statistics**
![image](https://github.com/Lakshana-2006/RISC-V-TAPEOUT-PROGRAM/blob/2edf8f16e608454e806c5576f26329bbf2a98df9/week1/picture/Screenshot%20from%202025-09-24%2016-40-55.png)
### Summary

* Understood the roles of **design**, **testbench**, and simulator/stimulator.
* Implemented and analyzed a **2:1 Multiplexer**.
* Practiced simulation with **iverilog**, waveform viewing in **GTKWave**, and synthesis using **Yosys**.

---
